syntax = "proto2";

package transit_realtime;

message FeedMessage {
  required FeedHeader header = 1;
  repeated FeedEntity entity = 2;
}

message FeedHeader {
  required string gtfs_realtime_version = 1;
  optional uint64 timestamp = 2;
}

message FeedEntity {
  required string id = 1;
  optional VehiclePosition vehicle = 2;
}

message VehiclePosition {
  optional TripDescriptor trip = 1;
  optional Position position = 2;
  optional VehicleDescriptor vehicle = 8;
}

message TripDescriptor {
  optional string trip_id = 1;
  optional string route_id = 5;
}

message Position {
  optional float latitude = 1;
  optional float longitude = 2;
  optional float bearing = 5;
  optional float speed = 6;
}

message VehicleDescriptor {
  optional string id = 1;
}